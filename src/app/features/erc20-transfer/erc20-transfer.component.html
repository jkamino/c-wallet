<ngx-spinner type="ball-scale-multiple" size="medium" [fullScreen]="true">
  <p style="color: white">Processing...</p>
</ngx-spinner>
  <!-- header -->
  <div class="header-wrapper">
    <section class="header-container">
      <h1>Content NFT</h1>
      <div class="mail-address-container">
        <img src="assets/image/mail.png" alt="" />
        <p>{{ email }}</p>
      </div>
      <div class="last-row-group">
        <div class="address-container">
          <img src="assets/image/address.png" alt="" />
          <p>{{ this.walletAddress }}</p>
        </div>
        <button class="copy-btn" (click)="copyWalletAddress()">
          <mat-icon>file_copy</mat-icon>
        </button>
      </div>
    </section>
    <div class="logout-btn" (click)="logout()">
      <span class="material-symbols-outlined"> logout </span>
    </div>
  </div>

<!-- main content -->
<div class="page-container">
  <!-- back button -->
  <section class="back-button-container">
    <div class="back-btn" routerLink="/mirai-balance">
      <mat-icon>navigate_before</mat-icon>
      <div>Back</div>
    </div>
  </section>

  <section class="main-container">
    <div class="input-wrapper">
      <mat-grid-list cols="4" rowHeight="30px">
        <mat-grid-tile colspan="1">
          <div class="text-left-inside-grid">Asset:</div>
        </mat-grid-tile>
        <mat-grid-tile colspan="3">
          <div class="text-left-inside-grid">MRA</div>
        </mat-grid-tile>
        <mat-grid-tile colspan="1">
          <div class="text-left-inside-grid">Balance:</div>
        </mat-grid-tile>
        <mat-grid-tile colspan="3">
          <div class="text-left-inside-grid">{{(this.erc20Balance$ | async)?.balance | toBaseUnit}}</div>
        </mat-grid-tile>
      </mat-grid-list>
      <div>
        <mat-form-field appearance="fill">
          <mat-label>To:</mat-label>
          <input matInput [formControl]="toAddress" class="address-input" />
        </mat-form-field>
        <div style="position: relative;">
          <mat-icon class="drop-down-icon" (click)="openAddressBook()">arrow_drop_down_circle</mat-icon>
        </div>
      </div>
      <mat-form-field appearance="fill">
      <mat-label>Amount:</mat-label>
      <input matInput [formControl]="amount" />
      </mat-form-field>
      <section class="btn-container" style="width: 100%;">
        <button
          type="button"
          class="primary-btn"
          (click)="next()"
          [disabled]="!formIsValid"
        >
          Next
        </button>
      </section>
    </div>
    <div class="history-container">
      <h3>History:</h3>
      <table mat-table [dataSource]="this.transferHistoryList" class="history-table">
        <ng-container matColumnDef="date">
          <td mat-cell *matCellDef="let element">{{element.dateTime | date:'yy/MM/dd HH:mm'}}</td>
        </ng-container>
        <ng-container matColumnDef="to">
          <td mat-cell *matCellDef="let element">{{getNameFromAddress(element.to)}}</td>
        </ng-container>
        <ng-container matColumnDef="value">
          <td mat-cell *matCellDef="let element">{{element.value | toBaseUnit}}</td>
        </ng-container>
        <ng-container matColumnDef="transaction-hash">
          <td mat-cell *matCellDef="let element">
            <a href="{{this.explorerBaseUrl}}/{{element.transactionHash}}" target="_blank" rel="noopener noreferrer">
              {{element.transactionHash}}
            </a>
          </td>
        </ng-container>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </section>
</div>
